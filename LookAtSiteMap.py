import requests
import pandas as pd
from bs4 import BeautifulSoup
import xmltodict
import os
import time



url2 = ['https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-ultra-s-line-100002', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/avant-tfsi-s-line-100003', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/avant-tdi-ultra-s-line-black-edition-100006', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-s-line-plus-100007', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-quattro-s-line-100012', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-quattro-s-line-100013', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/avant-tdi-ultra-sport-100031', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tdi-quattro-s-line-100044', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tdi-s-line-100055', 'https://www.bigmotoringworld.co.uk/used/cars/audi/tt/tfsi-s-line-100056', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-s-line-black-edition-100084', 'https://www.bigmotoringworld.co.uk/used/cars/audi/tt/tfsi-quattro-s-line-100089', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-se-technik-100099', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/sportback-tdi-quattro-s-line-100109', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tfsi-quattro-s-line-black-edition-plus-100120', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/sportback-tfsi-sport-100162', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-s-line-black-edition-100171', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-s-line-plus-100189', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-s-line-edition-100194', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tdi-ultra-se-100233', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-s-line-100239', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/tfsi-sport-100241', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-quattro-s-line-100242', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-s-line-edition-100246', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-ultra-s-line-black-edition-100251', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/avant-tfsi-se-100264', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-quattro-s-line-100271', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/avant-tdi-ultra-se-100309', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tdi-s-line-100338', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tfsi-s-line-100340', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-quattro-s-line-100345', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q7/tdi-quattro-s-line-100346', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q2/tfsi-se-100359', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tdi-s-line-100360', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tdi-s-line-100364', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-sport-100365', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-quattro-s-line-black-edition-100369', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tfsi-s-line-100384', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/sportback-tfsi-sport-nav-100391', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/avant-tfsi-s-line-black-edition-100396', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tdi-ultra-se-100402', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-s-line-plus-100403', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tdi-ultra-sport-100405', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tdi-ultra-se-100406', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/sportback-tfsi-s-line-100415', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tfsi-sport-100435', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-ultra-s-line-100443', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-ultra-s-line-100452', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/tfsi-sport-100473', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-s-line-100480', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tdi-quattro-se-100483', 'https://www.bigmotoringworld.co.uk/used/cars/audi/tt/tfsi-sport-100499', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-se-technik-100501', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-sport-100513', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/sportback-tfsi-se-technik-100522', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tfsi-se-100544', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tfsi-sport-100547', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-se-technik-100549', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/sportback-tdi-s-line-style-edition-100551', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q5/tdi-quattro-sport-100552', 'https://www.bigmotoringworld.co.uk/used/cars/audi/s5/s5-sportback-tfsi-quattro-black-edition-100569', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tdi-quattro-s-line-100570', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tfsi-s-line-100571', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/sportback-tfsi-sport-100597', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a6/tdi-s-line-100599', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-s-line-black-edition-100601', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tdi-quattro-s-line-100647', 'https://www.bigmotoringworld.co.uk/used/cars/audi/s3/s3-sportback-quattro-100648', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-se-technik-100655', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-sport-100686', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a5/tdi-s-line-black-edition-plus-100701', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-quattro-s-line-edition-100730', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q7/tdi-quattro-s-line-100739', 'https://www.bigmotoringworld.co.uk/used/cars/audi/q3/tfsi-sport-100744', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a4/tfsi-s-line-black-edition-100750', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a1/sportback-tfsi-s-line-100751', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a3/tdi-s-line-100781', 'https://www.bigmotoringworld.co.uk/used/cars/audi/a7/sportback-tdi-quattro-s-line-black-ed-100793']
while True:
    for url2 in url2:
        headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'}
        page = requests.get(url2, headers=headers)
        soup = BeautifulSoup(page.content, 'html.parser')
        search = soup.find_all(class_='finance-widget')
        searchstr = str(search)
    if 'newvehicle' and 'ivendi' in searchstr:
        print("Online")
        break
    else:
        time.sleep(1)
        print("Offline")
        continue